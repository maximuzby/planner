(window.webpackJsonpplanner=window.webpackJsonpplanner||[]).push([[0],[,,,,,,,,,,,function(e,n,t){e.exports=t(24)},,,,,function(e,n,t){},,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(8),c=t.n(o),l=(t(16),t(3)),i=t(9),s=t.n(i),u=t(2),d=t(4),f=t.n(d),m=function(e){return e.isoWeekday()<=6},p=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:3&t|8).toString(16)})},v=u.types.model("Entity",{id:u.types.optional(u.types.identifier,p)}),y=v.named("Person").props({name:u.types.string}).actions(function(e){return{setName:function(n){return e.name=n}}}),h=v.named("Day").props({date:u.types.string,title:u.types.string}).views(function(e){return{get isWeekend(){return m(f()(e.date))}}}).actions(function(e){return{setTitle:function(n){return e.title=n}}}),x=u.types.model("PlannerApp",{people:u.types.array(y),days:u.types.array(h)}).views(function(e){return{get dayCount(){return e.days.length}}}).actions(function(e){return{addDay:function(){var n=f()(e.days[e.days.length-1].date).add(1,"day");e.days.push({title:n.format("dddd, MMM D"),date:n.format()})},addPerson:function(){e.people.push({name:""})},afterCreate:function(){e.people=Object(u.cast)([{name:"Vasya"},{name:"Petya"}]);for(var n=0;n<7;n++){var t=f()().startOf("date").add(n,"day");e.days.push({title:t.format("dddd, MMM D"),date:t.format()})}}}}),b=r.a.createContext(null);function g(){var e=x.create({});return s()(e),e}var w=function(e){var n=e.children,t=Object(l.a)(g);return r.a.createElement(b.Provider,{value:t},n)},E=(t(20),t(10)),N=function(e){var n=e.setValue,t=e.value,o=e.classNamePrefix,c=e.onBlur,i=Object(a.useCallback)(function(e){n(e.target.value)},[n]);return Object(l.b)(function(){return r.a.createElement("input",{autoFocus:!0,onBlur:c,className:"".concat(o,"-cell-editor"),value:t,type:"text",onChange:i})})},k=function(e){var n=Object(a.useState)(!1),t=Object(E.a)(n,2),o=t[0],c=t[1],i=Object(a.useCallback)(function(){c(!0)},[]),s=Object(a.useCallback)(function(){c(!1)},[]);return Object(l.b)(function(){return r.a.createElement("th",{className:"planner-cell planner-cell_header ".concat(e.classNamePrefix,"-cell"),onClick:i},o?r.a.createElement(N,Object.assign({},e,{onBlur:s})):r.a.createElement("div",{className:"".concat(e.classNamePrefix,"-cell-text")},e.value))})},_=function(e){return Object(l.b)(function(){return r.a.createElement(k,{value:e.day.title,setValue:e.day.setTitle,classNamePrefix:"day"})})},P=(t(21),function(e){var n=e.person;return Object(l.b)(function(){return r.a.createElement(k,{value:n.name,setValue:n.setName,classNamePrefix:"person"})})}),j=(t(22),function(){var e=function(){var e=r.a.useContext(b);if(!e)throw new Error("You have forgot to use StoreProvider, shame on you.");return e}();return Object(l.b)(function(){return r.a.createElement("table",{className:"planner-table"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"planner-table__header"},r.a.createElement("th",{className:"planner-cell planner-cell_header"}),e.days.map(function(e){return r.a.createElement(_,{key:e.id,day:e})}),r.a.createElement("th",{className:"planner-cell planner-cell_add"},r.a.createElement("button",{className:"action-button",onClick:e.addDay,title:"Add Day"},"+"))),e.people.map(function(n){return r.a.createElement("tr",{className:"planner-table__row",key:n.id},r.a.createElement(P,{person:n}),e.days.map(function(e){return r.a.createElement("td",{className:"planner-cell planner-cell_task",key:e.id},r.a.createElement("div",{className:"planner-card"},"Free"))}))}),r.a.createElement("tr",{className:"planner-table__row"},r.a.createElement("td",{className:"planner-cell planner-cell_add"},r.a.createElement("button",{className:"action-button",onClick:e.addPerson,title:"Add Person"},"+")))))})}),O=function(e){return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app__header"},r.a.createElement("span",{className:"app__title"},"Planner")),r.a.createElement("main",{className:"app__main"},e.children))},C=(t(23),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function W(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(function(){return r.a.createElement(w,null,r.a.createElement(O,null,r.a.createElement(j,null)))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/planner",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/planner","/service-worker.js");C?(!function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):W(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):W(n,e)})}}()}],[[11,1,2]]]);
//# sourceMappingURL=main.30f917ce.chunk.js.map