(window.webpackJsonpplanner=window.webpackJsonpplanner||[]).push([[0],{26:function(e,n,t){e.exports=t(48)},35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);t(27);var a=t(0),r=t.n(a),o=t(11),l=t.n(o),c=t(52),i=t(50),s=t(51),u=t(7),d=t(53),f=t(21),m=t.n(f),p=t(6),y=t(13),v=t.n(y),x=function(e){return e.isoWeekday()<=6},h=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:3&t|8).toString(16)})},g=p.types.model("Entity",{id:p.types.optional(p.types.identifier,h)}),b=g.named("Day").props({date:p.types.string,title:p.types.string}).views(function(e){return{get isWeekend(){return x(v()(e.date))}}}).actions(function(e){return{setTitle:function(n){return e.title=n}}}),E=g.named("Task").props({name:p.types.string,day:p.types.reference(b)}).actions(function(e){return{setName:function(n){return e.name=n},setDay:function(n){return e.day=n}}}),w=g.named("Person").props({name:p.types.string,tasks:p.types.array(E)}).actions(function(e){return{setName:function(n){return e.name=n}}}),k=p.types.model("PlannerApp",{people:p.types.array(w),days:p.types.array(b)}).views(function(e){return{get dayCount(){return e.days.length}}}).actions(function(e){return{addDay:function(){var n=v()(e.days[e.days.length-1].date).add(1,"day");e.days.push({title:n.format("ddd, MMM D"),date:n.format()})},addPerson:function(){e.people.push({name:""})},afterCreate:function(){for(var n=0;n<7;n++){var t=v()().startOf("date").add(n,"day");e.days.push({title:t.format("ddd, MMM D"),date:t.format()})}e.people=Object(p.cast)([{name:"Vasya",tasks:[{name:"Vasya Busy",day:e.days[0].id}]},{name:"Petya"}])}}}),N=r.a.createContext(null);function P(){var e=k.create({});return m()(e),e}var j=function(e){var n=e.children,t=Object(u.a)(P);return r.a.createElement(N.Provider,{value:t},n)},O=(t(35),t(24)),C=function(e){var n=e.setValue,t=e.value,o=e.classNamePrefix,l=e.onBlur,c=Object(a.useCallback)(function(e){n(e.target.value)},[n]);return Object(u.b)(function(){return r.a.createElement("input",{autoFocus:!0,onBlur:l,className:"".concat(o,"-cell-editor"),value:t,type:"text",onChange:c})})},_=function(e){var n=Object(a.useState)(!1),t=Object(O.a)(n,2),o=t[0],l=t[1],c=Object(a.useCallback)(function(){l(!0)},[]),i=Object(a.useCallback)(function(){l(!1)},[]);return Object(u.b)(function(){return r.a.createElement("th",{className:"planner-cell planner-cell_header ".concat(e.classNamePrefix,"-cell"),onClick:c},o?r.a.createElement(C,Object.assign({},e,{onBlur:i})):r.a.createElement("div",{className:"".concat(e.classNamePrefix,"-cell-text")},e.value))})},A=function(e){return Object(u.b)(function(){return r.a.createElement(_,{value:e.day.title,setValue:e.day.setTitle,classNamePrefix:"day"})})},W=(t(36),function(e){var n=e.person;return Object(u.b)(function(){return r.a.createElement(_,{value:n.name,setValue:n.setName,classNamePrefix:"person"})})}),D=(t(37),function(e){return r.a.createElement("td",{className:"planner-cell planner-cell_task"},r.a.createElement("div",{className:"planner-card"},"Free"))}),M=function(){var e=function(){var e=r.a.useContext(N);if(!e)throw new Error("You have forgot to use StoreProvider, shame on you.");return e}();return Object(u.b)(function(){return r.a.createElement("table",{className:"planner-table"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"planner-table__header"},r.a.createElement("th",{className:"planner-cell planner-cell_header"}),e.days.map(function(e){return r.a.createElement(A,{key:e.id,day:e})}),r.a.createElement("th",{className:"planner-cell planner-cell_add"},r.a.createElement(d.a,{variant:"primary",onClick:e.addDay,title:"Add Day"},"Add"))),e.people.map(function(n){return r.a.createElement("tr",{className:"planner-table__row",key:n.id},r.a.createElement(W,{person:n}),e.days.map(function(e){return r.a.createElement(D,{key:e.id,day:e,person:n})}))}),r.a.createElement("tr",{className:"planner-table__row"},r.a.createElement("td",{className:"planner-cell planner-cell_add"},r.a.createElement(d.a,{variant:"primary",onClick:e.addPerson,title:"Add Person"},"Add")))))})},B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{fixed:"top",bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(c.a.Brand,{href:"#home"},"Planner")),r.a.createElement(i.a,{fluid:!0},r.a.createElement(s.a,null,e.children)))},S=(t(47),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function T(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(function(){return r.a.createElement(j,null,r.a.createElement(B,null,r.a.createElement(M,null)))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/planner",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/planner","/service-worker.js");S?(!function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(n,e)})}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.61fab6c1.chunk.js.map