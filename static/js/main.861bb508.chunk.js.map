{"version":3,"sources":["utils/date-utils.ts","utils/guid-builder.ts","stores/entity.store.ts","stores/day.store.ts","stores/person.store.ts","stores/task.store.ts","stores/planner.store.ts","stores/views/task-placements.ts","stores/initial-seed.ts","use-store.tsx","data-storage/data-storage-controls.tsx","table/headers/editable-cell.tsx","table/headers/person-cell.tsx","table/headers/day-cell.tsx","table/days-header.tsx","table/cells/cell.tsx","table/person-tasks-row.tsx","table/table.tsx","table/add-person-button.tsx","task-editor/task-editor.tsx","app.tsx","service-worker.ts","index.tsx"],"names":["dateUtils","date","isoWeekday","guidBuilder","dt","Date","getTime","replace","c","r","Math","random","floor","toString","Entity","types","model","id","optional","identifier","Day","named","props","string","title","views","self","moment","actions","setTitle","Person","name","setName","Task","startDay","number","person","reference","length","starts","dayIndex","finishes","finishDay","inDay","intersects","task","moveTo","fromDay","toDay","increaseLength","decreaseLength","PlannerStore","people","array","days","tasks","selectedTaskId","maybe","find","x","getPersonTasks","filter","sort","a","b","reduce","placedTasks","position","map","free","getTaskPlacements","selectTask","removeTask","undefined","remove","addDay","nextDate","add","push","format","addTask","create","addPerson","afterCreate","i","startOf","cast","seed","storeContext","React","createContext","createStore","store","makeInspectable","StoreProvider","children","useLocalStore","Provider","value","useStore","useContext","Error","DataStorageButtons","useState","show","setShow","modalText","setModalText","modalTitle","setModalTitle","handleClose","showPopup","text","load","data","JSON","parse","localStorage","getItem","applySnapshot","error","errorMessage","console","save","snapshot","getSnapshot","json","stringify","setItem","useObserver","ButtonGroup","Button","variant","onClick","Modal","onHide","Header","closeButton","Title","Body","Footer","InlineEditor","setValue","classNamePrefix","onBlur","onChange","useCallback","event","target","autoFocus","className","type","EditableCell","editing","setEditing","enableEditing","disableEditing","PersonCell","DayCell","day","DaysHeader","key","TaskCard","useDrag","item","fromIndex","collect","monitor","isDragging","drag","onMinusClick","ref","style","opacity","classNames","size","EmptyCard","TaskCardList","taskPlacements","maxPosition","max","Array","from","_","placement","index","Cell","useDrop","accept","drop","onFreeClick","PersonTasksRow","_day","TableRows","Table","Row","Col","lg","backend","Html5Backend","AddPersonButton","sm","TaskEditorControls","currentTarget","FormGroup","FormControl","TaskEditor","md","selectedTask","AppContainer","Navbar","fixed","bg","expand","Brand","href","Container","fluid","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","catch","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.861bb508.chunk.js","sourcesContent":["import { Moment } from 'moment';\r\n\r\nconst SATURDAY = 6;\r\n\r\nexport const dateUtils = {\r\n\tisWeekend: (date: Moment) => {\r\n\t\treturn date.isoWeekday() <= SATURDAY;\r\n\t},\r\n};\r\n","const uuidPattern = 'xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx';\r\n\r\nexport const guidBuilder = {\r\n\tbuild: () => {\r\n\t\tlet dt = new Date().getTime();\r\n\t\tconst uuid = uuidPattern.replace(/[xy]/g, c => {\r\n\t\t\t// tslint:disable-next-line:no-bitwise\r\n\t\t\tconst r = (dt + Math.random() * 16) % 16 | 0;\r\n\t\t\tdt = Math.floor(dt / 16);\r\n\t\t\t// tslint:disable-next-line:no-bitwise\r\n\t\t\treturn (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\r\n\t\t});\r\n\t\treturn uuid;\r\n\t},\r\n};\r\n","import { types } from 'mobx-state-tree';\r\n\r\nimport { guidBuilder } from '../utils/guid-builder';\r\n\r\nexport const Entity = types.model('Entity', {\r\n\tid: types.optional(types.identifier, guidBuilder.build),\r\n});\r\n","import { Instance, types } from 'mobx-state-tree';\r\nimport moment from 'moment';\r\n\r\nimport { dateUtils } from '../utils/date-utils';\r\nimport { Entity } from './entity.store';\r\n\r\nexport interface Day extends Instance<typeof Day> {}\r\n\r\nexport const Day = Entity.named('Day')\r\n\t.props({\r\n\t\t/** Date in ISO format */\r\n\t\tdate: types.string,\r\n\t\ttitle: types.string,\r\n\t})\r\n\t.views(self => ({\r\n\t\tget isWeekend() {\r\n\t\t\treturn dateUtils.isWeekend(moment(self.date));\r\n\t\t},\r\n\t}))\r\n\t.actions(self => ({\r\n\t\tsetTitle: (title: string) => (self.title = title),\r\n\t}));\r\n","import { Instance, types } from 'mobx-state-tree';\r\n\r\nimport { Entity } from './entity.store';\r\n\r\nexport interface Person extends Instance<typeof Person> {}\r\n\r\nexport const Person = Entity.named('Person')\r\n\t.props({\r\n\t\tname: types.string,\r\n\t})\r\n\r\n\t.actions(self => ({\r\n\t\tsetName: (name: string) => (self.name = name),\r\n\t}));\r\n","import { Instance, types } from 'mobx-state-tree';\r\n\r\nimport { Entity } from './entity.store';\r\nimport { Person } from './person.store';\r\n\r\nexport interface Task extends Instance<typeof Task> {}\r\n\r\nexport const Task = Entity.named('Task')\r\n\t.props({\r\n\t\tname: types.string,\r\n\t\tstartDay: types.number,\r\n\t\tperson: types.reference(Person),\r\n\t\tlength: types.optional(types.number, 1),\r\n\t})\r\n\t.views(self => ({\r\n\t\tget finishDay(): number {\r\n\t\t\treturn self.startDay + self.length - 1;\r\n\t\t},\r\n\t}))\r\n\t.views(self => ({\r\n\t\tstarts: (dayIndex: number) => {\r\n\t\t\treturn self.startDay === dayIndex;\r\n\t\t},\r\n\t\tfinishes: (dayIndex: number) => {\r\n\t\t\treturn self.finishDay === dayIndex;\r\n\t\t},\r\n\t\tinDay: (dayIndex: number) => {\r\n\t\t\treturn dayIndex >= self.startDay && dayIndex <= self.finishDay;\r\n\t\t},\r\n\t\tintersects: (task: Task): boolean => {\r\n\t\t\treturn (\r\n\t\t\t\t(self.startDay >= task.startDay &&\r\n\t\t\t\t\tself.startDay <= task.finishDay) ||\r\n\t\t\t\t(self.finishDay >= task.startDay &&\r\n\t\t\t\t\tself.finishDay <= task.finishDay) ||\r\n\t\t\t\t(task.startDay >= self.startDay &&\r\n\t\t\t\t\ttask.startDay <= self.finishDay) ||\r\n\t\t\t\t(task.finishDay >= self.startDay &&\r\n\t\t\t\t\ttask.finishDay <= self.finishDay)\r\n\t\t\t);\r\n\t\t},\r\n\t}))\r\n\t.actions(self => ({\r\n\t\tsetName: (name: string) => (self.name = name),\r\n\t\tmoveTo: (fromDay: number, toDay: number, person: Person) => {\r\n\t\t\tself.startDay = self.startDay + (toDay - fromDay);\r\n\t\t\tself.person = person;\r\n\t\t},\r\n\t\tincreaseLength: () => self.length++,\r\n\t\tdecreaseLength: (): boolean => {\r\n\t\t\treturn self.length > 1 ? !!self.length-- : false;\r\n\t\t},\r\n\t}));\r\n","import { Instance, types } from 'mobx-state-tree';\r\nimport moment from 'moment';\r\n\r\nimport { Day } from './day.store';\r\nimport { seed } from './initial-seed';\r\nimport { Person } from './person.store';\r\nimport { Task } from './task.store';\r\nimport { getTaskPlacements, TaskPlacement } from './views/task-placements';\r\n\r\nexport interface PlannerStoreModel extends Instance<typeof PlannerStoreModel> {}\r\nexport interface PlannerStore extends Instance<typeof PlannerStore> {}\r\n\r\nconst PlannerStoreModel = types.model('PlannerApp', {\r\n\tpeople: types.array(Person),\r\n\tdays: types.array(Day),\r\n\ttasks: types.array(Task),\r\n\tselectedTaskId: types.maybe(types.string),\r\n});\r\n\r\nconst PlannerStoreView = PlannerStoreModel.views(self => ({\r\n\tget selectedTask() {\r\n\t\treturn self.tasks.find(x => x.id === self.selectedTaskId);\r\n\t},\r\n\tgetPersonTasks: (person: Person): TaskPlacement[] => {\r\n\t\treturn getTaskPlacements(self.tasks.filter(x => x.person === person));\r\n\t},\r\n})).views(self => ({\r\n\tgetTaskPlacements: (dayIndex: number, person: Person) => {\r\n\t\treturn self.getPersonTasks(person).filter(x => x.task.inDay(dayIndex));\r\n\t},\r\n}));\r\n\r\nconst PlannerStoreActions = PlannerStoreView.actions(self => ({\r\n\tselectTask: (task: Task) => {\r\n\t\tself.selectedTaskId = task.id;\r\n\t},\r\n})).actions(self => ({\r\n\tremoveTask: (task: Task) => {\r\n\t\tif (task.id === self.selectedTaskId) {\r\n\t\t\tself.selectedTaskId = undefined;\r\n\t\t}\r\n\r\n\t\tself.tasks.remove(task);\r\n\t},\r\n\taddDay: () => {\r\n\t\tconst nextDate = moment(self.days[self.days.length - 1].date).add(\r\n\t\t\t1,\r\n\t\t\t'day',\r\n\t\t);\r\n\t\tself.days.push({\r\n\t\t\ttitle: nextDate.format('ddd, MMM D'),\r\n\t\t\tdate: nextDate.format(),\r\n\t\t});\r\n\t},\r\n\taddTask: (dayIndex: number, person: Person) => {\r\n\t\tconst task = Task.create({\r\n\t\t\tperson: person.id,\r\n\t\t\tstartDay: dayIndex,\r\n\t\t\tname: '',\r\n\t\t});\r\n\t\tself.tasks.push(task);\r\n\t\tself.selectTask(task);\r\n\t},\r\n\taddPerson: () => {\r\n\t\tself.people.push({ name: 'Anonymous' });\r\n\t},\r\n\t/** Fill with test data */\r\n\tafterCreate: () => seed(self),\r\n}));\r\n\r\nexport const PlannerStore = PlannerStoreActions;\r\n","import { Task } from '../task.store';\r\n\r\nexport interface TaskPlacement {\r\n\tposition: number;\r\n\ttask: Task;\r\n}\r\n\r\nexport const getTaskPlacements = (tasks: Task[]) => {\r\n\treturn tasks\r\n\t\t.sort((a, b) => a.startDay - b.startDay)\r\n\t\t.reduce<TaskPlacement[]>((placedTasks, task) => {\r\n\t\t\tconst position = placedTasks\r\n\t\t\t\t.filter(x => x.task.intersects(task))\r\n\t\t\t\t.map(x => x.position)\r\n\t\t\t\t.sort()\r\n\t\t\t\t.reduce((free, x) => (x === free ? free + 1 : free), 0);\r\n\t\t\treturn [...placedTasks, { task, position }];\r\n\t\t}, []);\r\n};\r\n","import { cast } from 'mobx-state-tree';\r\nimport moment from 'moment';\r\n\r\nimport { PlannerStoreModel } from './planner.store';\r\n\r\nexport const seed = (self: PlannerStoreModel) => {\r\n\tif (self.days.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tfor (let i = 0; i < 7; i++) {\r\n\t\tconst date = moment()\r\n\t\t\t.startOf('date')\r\n\t\t\t.add(i, 'day');\r\n\t\tself.days.push({\r\n\t\t\ttitle: date.format('ddd, MMM D'),\r\n\t\t\tdate: date.format(),\r\n\t\t});\r\n\t}\r\n\r\n\tself.people = cast([\r\n\t\t{\r\n\t\t\tname: 'John',\r\n\t\t},\r\n\t\t{ name: 'Max' },\r\n\t]);\r\n};\r\n","import makeInspectable from 'mobx-devtools-mst';\r\nimport { useLocalStore } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nimport { PlannerStore } from './stores/planner.store';\r\n\r\nconst storeContext = React.createContext<PlannerStore | null>(null);\r\n\r\ninterface StoreProviderProps {\r\n\tchildren: JSX.Element;\r\n}\r\n\r\nfunction createStore() {\r\n\tconst store = PlannerStore.create({});\r\n\tmakeInspectable(store);\r\n\treturn store;\r\n}\r\n\r\nexport const StoreProvider = ({ children }: StoreProviderProps) => {\r\n\tconst store = useLocalStore(createStore);\r\n\treturn (\r\n\t\t<storeContext.Provider value={store}>{children}</storeContext.Provider>\r\n\t);\r\n};\r\n\r\nexport const useStore = () => {\r\n\tconst store = React.useContext(storeContext);\r\n\tif (!store) {\r\n\t\t// this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n\t\tthrow new Error('You have forgot to use StoreProvider, shame on you.');\r\n\t}\r\n\treturn store;\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React, { useState } from 'react';\r\nimport { Button, ButtonGroup, Modal } from 'react-bootstrap';\r\n\r\nimport { applySnapshot, getSnapshot } from 'mobx-state-tree';\r\nimport { useStore } from '../use-store';\r\n\r\nconst PLANNER_DATA_KEY = 'savedPlan';\r\n\r\nexport const DataStorageButtons = () => {\r\n\tconst store = useStore();\r\n\tconst [show, setShow] = useState(false);\r\n\tconst [modalText, setModalText] = useState('');\r\n\tconst [modalTitle, setModalTitle] = useState('');\r\n\r\n\tconst handleClose = () => setShow(false);\r\n\tconst showPopup = (title: string, text: string) => {\r\n\t\tsetModalText(text);\r\n\t\tsetModalTitle(title);\r\n\t\tsetShow(true);\r\n\t};\r\n\r\n\tconst load = () => {\r\n\t\tconst data = JSON.parse(localStorage.getItem(PLANNER_DATA_KEY) || '');\r\n\t\ttry {\r\n\t\t\tapplySnapshot(store, data);\r\n\t\t\tshowPopup('Loaded', 'Plan is loaded from storage!');\r\n\t\t} catch (error) {\r\n\t\t\tconst errorMessage = 'Error while loading data from storage';\r\n\t\t\tconsole.error(errorMessage, error);\r\n\t\t\tshowPopup('Error', errorMessage);\r\n\t\t}\r\n\t};\r\n\r\n\tconst save = () => {\r\n\t\tconst snapshot = getSnapshot(store);\r\n\t\tconst json = JSON.stringify(snapshot);\r\n\t\tlocalStorage.setItem(PLANNER_DATA_KEY, json);\r\n\t\tshowPopup('Saved', 'Current Plan is saved!');\r\n\t};\r\n\r\n\treturn useObserver(() => (\r\n\t\t<>\r\n\t\t\t<ButtonGroup>\r\n\t\t\t\t<Button variant='outline-danger' onClick={load} title='Load'>\r\n\t\t\t\t\tLoad\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant='outline-success' onClick={save} title='Save'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</Button>\r\n\t\t\t</ButtonGroup>\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton={true}>\r\n\t\t\t\t\t<Modal.Title>{modalTitle}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>{modalText}</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant='primary' onClick={handleClose}>\r\n\t\t\t\t\t\tOK\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React, { useCallback, useState } from 'react';\r\n\r\ninterface EditableCellProps {\r\n\tvalue: string;\r\n\tsetValue: (value: string) => void;\r\n\tclassNamePrefix: string;\r\n}\r\n\r\nconst InlineEditor = (props: EditableCellProps & { onBlur: () => void }) => {\r\n\tconst { setValue, value, classNamePrefix, onBlur } = props;\r\n\r\n\tconst onChange = useCallback(\r\n\t\t(event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\tsetValue(event.target.value);\r\n\t\t},\r\n\t\t[setValue],\r\n\t);\r\n\r\n\treturn useObserver(() => (\r\n\t\t<input\r\n\t\t\tautoFocus={true}\r\n\t\t\tonBlur={onBlur}\r\n\t\t\tclassName={`${classNamePrefix}-cell-editor`}\r\n\t\t\tvalue={value}\r\n\t\t\ttype='text'\r\n\t\t\tonChange={onChange}\r\n\t\t/>\r\n\t));\r\n};\r\n\r\nexport const EditableCell = (props: EditableCellProps) => {\r\n\tconst [editing, setEditing] = useState(false);\r\n\r\n\tconst enableEditing = useCallback(() => {\r\n\t\tsetEditing(true);\r\n\t}, []);\r\n\r\n\tconst disableEditing = useCallback(() => {\r\n\t\tsetEditing(false);\r\n\t}, []);\r\n\r\n\treturn useObserver(() => (\r\n\t\t<th\r\n\t\t\tclassName={`planner-cell planner-cell_header ${props.classNamePrefix}-cell`}\r\n\t\t\tonClick={enableEditing}\r\n\t\t>\r\n\t\t\t{editing ? (\r\n\t\t\t\t<InlineEditor {...props} onBlur={disableEditing} />\r\n\t\t\t) : (\r\n\t\t\t\t<div className={`${props.classNamePrefix}-cell-text`}>\r\n\t\t\t\t\t{props.value}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</th>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nimport { Person } from '../../stores';\r\nimport { EditableCell } from './editable-cell';\r\n\r\nimport './person-cell.css';\r\n\r\nexport const PersonCell = (props: { person: Person }) => {\r\n\tconst person = props.person;\r\n\treturn useObserver(() => (\r\n\t\t<EditableCell\r\n\t\t\tvalue={person.name}\r\n\t\t\tsetValue={person.setName}\r\n\t\t\tclassNamePrefix='person'\r\n\t\t/>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nimport { Day } from '../../stores';\r\nimport { EditableCell } from './editable-cell';\r\n\r\nimport './day-cell.css';\r\n\r\nexport const DayCell = (props: { day: Day }) => {\r\n\treturn useObserver(() => (\r\n\t\t<EditableCell\r\n\t\t\tvalue={props.day.title}\r\n\t\t\tsetValue={props.day.setTitle}\r\n\t\t\tclassNamePrefix='day'\r\n\t\t/>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nimport { useStore } from '../use-store';\r\nimport { DayCell } from './headers';\r\n\r\nexport const DaysHeader = () => {\r\n\tconst store = useStore();\r\n\r\n\treturn useObserver(() => (\r\n\t\t<tr className='planner-table__header'>\r\n\t\t\t<th className='planner-cell planner-cell_header' />\r\n\t\t\t{store.days.map(day => (\r\n\t\t\t\t<DayCell key={day.id} day={day} />\r\n\t\t\t))}\r\n\t\t\t<th className='planner-cell planner-cell_add'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outline-primary'\r\n\t\t\t\t\tonClick={store.addDay}\r\n\t\t\t\t\ttitle='Add Day'\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd Day\r\n\t\t\t\t</Button>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t));\r\n};\r\n","import classNames from 'classnames';\r\nimport { useObserver } from 'mobx-react-lite';\r\nimport React, { useCallback } from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { useDrag, useDrop } from 'react-dnd';\r\n\r\nimport { Person, Task, TaskPlacement } from '../../stores';\r\nimport { useStore } from '../../use-store';\r\n\r\ninterface DropObject {\r\n\ttype: string;\r\n\ttask: Task;\r\n\tfromIndex: number;\r\n}\r\n\r\ninterface TaskCardProps {\r\n\ttask: Task;\r\n\tdayIndex: number;\r\n}\r\n\r\nconst TaskCard = (props: TaskCardProps) => {\r\n\tconst { task, dayIndex } = props;\r\n\r\n\tconst store = useStore();\r\n\r\n\tconst [{ isDragging }, drag] = useDrag({\r\n\t\titem: { task, type: 'card', fromIndex: dayIndex },\r\n\t\tcollect: monitor => ({\r\n\t\t\tisDragging: !!monitor.isDragging(),\r\n\t\t}),\r\n\t});\r\n\r\n\tconst onClick = () => {\r\n\t\tstore.selectTask(task);\r\n\t};\r\n\r\n\tconst onMinusClick = () => {\r\n\t\tif (!task.decreaseLength()) {\r\n\t\t\tstore.removeTask(task);\r\n\t\t}\r\n\t};\r\n\r\n\treturn useObserver(() => (\r\n\t\t<div\r\n\t\t\tref={drag}\r\n\t\t\tstyle={{ opacity: isDragging ? 0.5 : 1 }}\r\n\t\t\tclassName={classNames('planner-card', 'card-task', {\r\n\t\t\t\t'task-start': task.starts(dayIndex),\r\n\t\t\t\t'task-finish': task.finishes(dayIndex),\r\n\t\t\t\t'task-selected': store.selectedTaskId === task.id,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{task.name}\r\n\t\t\t{` `}\r\n\t\t\t<ButtonGroup className='task-length-buttons'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize='sm'\r\n\t\t\t\t\tvariant='outline-warning'\r\n\t\t\t\t\tonClick={task.increaseLength}\r\n\t\t\t\t>\r\n\t\t\t\t\t+\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize='sm'\r\n\t\t\t\t\tvariant='outline-warning'\r\n\t\t\t\t\tonClick={onMinusClick}\r\n\t\t\t\t>\r\n\t\t\t\t\t-\r\n\t\t\t\t</Button>\r\n\t\t\t</ButtonGroup>\r\n\t\t</div>\r\n\t));\r\n};\r\n\r\nconst EmptyCard = () => {\r\n\treturn <div className='planner-card empty-card'>{``}</div>;\r\n};\r\n\r\nconst TaskCardList = (props: {\r\n\ttaskPlacements: TaskPlacement[];\r\n\tdayIndex: number;\r\n}) => {\r\n\tconst { taskPlacements, dayIndex } = props;\r\n\r\n\tconst maxPosition = Math.max(...taskPlacements.map(x => x.position));\r\n\tconst array = Array.from({ length: maxPosition + 1 }, (_, i) => {\r\n\t\treturn taskPlacements.find(x => x.position === i);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{array.map((placement, index) =>\r\n\t\t\t\tplacement ? (\r\n\t\t\t\t\t<TaskCard\r\n\t\t\t\t\t\tdayIndex={dayIndex}\r\n\t\t\t\t\t\ttask={placement.task}\r\n\t\t\t\t\t\tkey={placement.task.id}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<EmptyCard key={index} />\r\n\t\t\t\t),\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport const Cell = (props: { dayIndex: number; person: Person }) => {\r\n\tconst { dayIndex, person } = props;\r\n\tconst [, drop] = useDrop<DropObject, {}, {}>({\r\n\t\taccept: 'card',\r\n\t\tdrop: (item: DropObject) => {\r\n\t\t\titem.task.moveTo(item.fromIndex, props.dayIndex, props.person);\r\n\t\t\treturn {};\r\n\t\t},\r\n\t});\r\n\r\n\tconst store = useStore();\r\n\r\n\tconst onFreeClick = useCallback(() => {\r\n\t\tstore.addTask(dayIndex, person);\r\n\t}, [dayIndex, person, store]);\r\n\r\n\treturn useObserver(() => {\r\n\t\tconst taskPlacements = store.getTaskPlacements(\r\n\t\t\tprops.dayIndex,\r\n\t\t\tprops.person,\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<td ref={drop} className='planner-cell planner-cell_task'>\r\n\t\t\t\t{taskPlacements.length === 0 ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='planner-card empty-card'\r\n\t\t\t\t\t\tonClick={onFreeClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{`Free`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<TaskCardList\r\n\t\t\t\t\t\ttaskPlacements={taskPlacements}\r\n\t\t\t\t\t\tdayIndex={dayIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</td>\r\n\t\t);\r\n\t});\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nimport { Person } from '../stores';\r\nimport { useStore } from '../use-store';\r\nimport { Cell } from './cells/cell';\r\nimport { PersonCell } from './headers';\r\n\r\nexport const PersonTasksRow = (props: { person: Person }) => {\r\n\tconst { person } = props;\r\n\r\n\tconst store = useStore();\r\n\r\n\treturn useObserver(() => (\r\n\t\t<tr className='planner-table__row'>\r\n\t\t\t<PersonCell person={person} />\r\n\t\t\t{store.days.map((_day, index) => (\r\n\t\t\t\t<Cell key={index} dayIndex={index} person={person} />\r\n\t\t\t))}\r\n\t\t</tr>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport Html5Backend from 'react-dnd-html5-backend';\r\n\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { useStore } from '../use-store';\r\nimport { DaysHeader } from './days-header';\r\nimport { PersonTasksRow } from './person-tasks-row';\r\nimport './table.css';\r\n\r\nconst TableRows = () => {\r\n\tconst store = useStore();\r\n\r\n\treturn useObserver(() => (\r\n\t\t<>\r\n\t\t\t{store.people.map(person => (\r\n\t\t\t\t<PersonTasksRow person={person} key={person.id} />\r\n\t\t\t))}\r\n\t\t</>\r\n\t));\r\n};\r\n\r\nexport const Table = () => {\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col lg='12'>\r\n\t\t\t\t<DndProvider backend={Html5Backend}>\r\n\t\t\t\t\t<table className='planner-table'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<DaysHeader />\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<TableRows />\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</DndProvider>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { Button, Col } from 'react-bootstrap';\r\n\r\nimport { useStore } from '../use-store';\r\n\r\nexport const AddPersonButton = () => {\r\n\tconst store = useStore();\r\n\r\n\treturn useObserver(() => (\r\n\t\t<Col sm='4'>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='outline-primary'\r\n\t\t\t\tonClick={store.addPerson}\r\n\t\t\t\ttitle='Add Person'\r\n\t\t\t>\r\n\t\t\t\tAdd Person\r\n\t\t\t</Button>\r\n\t\t</Col>\r\n\t));\r\n};\r\n","import { useObserver } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { Col, FormControl, FormControlProps, FormGroup } from 'react-bootstrap';\r\n\r\nimport { Task } from '../stores';\r\nimport { useStore } from '../use-store';\r\n\r\nconst TaskEditorControls = (props: { task: Task }) => {\r\n\tconst task = props.task;\r\n\r\n\tconst setName = (event: React.FormEvent<FormControlProps>) => {\r\n\t\ttask.setName(event.currentTarget.value || '');\r\n\t};\r\n\r\n\treturn useObserver(() => (\r\n\t\t<FormGroup>\r\n\t\t\t<FormControl\r\n\t\t\t\tautoFocus={true}\r\n\t\t\t\tvalue={task.name}\r\n\t\t\t\tonChange={setName}\r\n\t\t\t/>\r\n\t\t</FormGroup>\r\n\t));\r\n};\r\n\r\nexport const TaskEditor = () => {\r\n\tconst store = useStore();\r\n\r\n\treturn useObserver(() => (\r\n\t\t<Col sm='8' md='6' lg='4'>\r\n\t\t\t{store.selectedTask && (\r\n\t\t\t\t<TaskEditorControls task={store.selectedTask} />\r\n\t\t\t)}\r\n\t\t</Col>\r\n\t));\r\n};\r\n","import React from 'react';\nimport { Container, Navbar, Row } from 'react-bootstrap';\n\nimport { DataStorageButtons } from './data-storage/data-storage-controls';\nimport { AddPersonButton, Table } from './table';\nimport { TaskEditor } from './task-editor';\nimport { StoreProvider } from './use-store';\n\nconst AppContainer: React.FC = props => {\n\tconst { children } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Navbar fixed='top' bg='dark' variant='dark' expand='lg'>\n\t\t\t\t<Navbar.Brand href='#home'>Planner</Navbar.Brand>\n\t\t\t\t<DataStorageButtons />\n\t\t\t</Navbar>\n\t\t\t<Container fluid={true}>{children}</Container>\n\t\t</>\n\t);\n};\n\nexport const App: React.FC = () => {\n\treturn (\n\t\t<StoreProvider>\n\t\t\t<AppContainer>\n\t\t\t\t<Table />\n\t\t\t\t<Row>\n\t\t\t\t\t<AddPersonButton />\n\t\t\t\t\t<TaskEditor />\n\t\t\t\t</Row>\n\t\t\t</AppContainer>\n\t\t</StoreProvider>\n\t);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n\t\t),\n);\n\ninterface Config {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(\n\t\t\t(process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n\t\t\twindow.location.href,\n\t\t);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated pre-cached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been pre-cached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.',\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './app';\nimport './index.css';\nimport * as serviceWorker from './service-worker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}